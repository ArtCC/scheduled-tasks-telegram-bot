version: "3.9"
services:
  bot:
    image: ghcr.io/artcc/scheduled-tasks-telegram-bot:latest
    container_name: scheduled-tasks-telegram-bot
    environment:
      - BOT_TOKEN=${BOT_TOKEN}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - ALLOWED_CHAT_IDS=${ALLOWED_CHAT_IDS}
      - OPENAI_MODEL=${OPENAI_MODEL:-gpt-4.1-mini}
      - TIMEZONE=${TIMEZONE:-UTC}
      - DATABASE_PATH=${DATABASE_PATH:-/app/data/bot.db}
      - OPENAI_MAX_TOKENS=${OPENAI_MAX_TOKENS:-400}
      - OPENAI_TEMPERATURE=${OPENAI_TEMPERATURE:-0.4}
      - MAX_PROMPT_CHARS=${MAX_PROMPT_CHARS:-1200}
      - MAX_RESPONSE_CHARS=${MAX_RESPONSE_CHARS:-3500}
      - OPENAI_MAX_RETRIES=${OPENAI_MAX_RETRIES:-3}
    volumes:
      - ./data:/app/data
    restart: unless-stopped